import type { Capabilities, Frameworks } from '@wdio/types';
import type { Browser, MultiRemoteBrowser } from 'webdriverio';
import type { BeforeCommandArgs, AfterCommandArgs } from '@wdio/reporter';
import type { Feature, Scenario, CucumberHook, CucumberHookParams, Pickle, ITestCaseHookParameter } from './cucumber-types';
import type { TestData, TestMeta, CurrentRunInfo, StdLog } from './types';
declare class _InsightsHandler {
    private _browser;
    private _framework?;
    private _tests;
    private _hooks;
    private _platformMeta?;
    private _commands;
    private _gitConfigPath?;
    private _currentTest;
    private _currentHook;
    private _cucumberData;
    private _userCaps?;
    private listener;
    constructor(_browser: Browser<'async'> | MultiRemoteBrowser<'async'>, browserCaps?: Capabilities.Capabilities, isAppAutomate?: boolean, sessionId?: string, _framework?: string | undefined, _userCaps?: Capabilities.RemoteCapability);
    registerListeners(): void;
    before(): Promise<void>;
    beforeHook(test: Frameworks.Test | CucumberHook | undefined, context: any): Promise<void>;
    afterHook(test: Frameworks.Test | CucumberHook | undefined, result: Frameworks.TestResult): Promise<void>;
    beforeTest(test: Frameworks.Test): Promise<void>;
    afterTest(test: Frameworks.Test, result: Frameworks.TestResult): Promise<void>;
    /**
      * Cucumber Only
      */
    beforeFeature(uri: string, feature: Feature): Promise<void>;
    beforeScenario(world: ITestCaseHookParameter): Promise<void>;
    afterScenario(world: ITestCaseHookParameter): Promise<void>;
    beforeStep(step: Frameworks.PickleStep, scenario: Pickle): Promise<void>;
    afterStep(step: Frameworks.PickleStep, scenario: Pickle, result: Frameworks.PickleResult): Promise<void>;
    sendScenarioObjectSkipped(scenario: Scenario, feature: Feature, uri: string): Promise<void>;
    processCucumberHook(test: CucumberHook | undefined, params: CucumberHookParams, result?: Frameworks.TestResult): Promise<void>;
    browserCommand(commandType: string, args: BeforeCommandArgs & AfterCommandArgs, test?: Frameworks.Test | ITestCaseHookParameter): Promise<void>;
    appendTestItemLog: (stdLog: StdLog) => Promise<void>;
    private attachHookData;
    private setHooksFromSuite;
    getCucumberHookType(test: CucumberHook | undefined): string | null;
    getCucumberHookName(hookType: string | undefined): string;
    getCucumberHookUniqueId(hookType: string, hook: CucumberHook | undefined): string | null;
    getCucumberFeatureUniqueId(): string;
    setCurrentHook(hookDetails: CurrentRunInfo): void;
    private getHierarchy;
    private getTestRunId;
    private getTestRunIdFromSuite;
    private getRunData;
    private getTestRunDataForCucumber;
    getHookRunDataForCucumber(hookData: TestMeta, eventType: string, result?: Frameworks.TestResult): TestData;
    private getIntegrationsObject;
    private getIdentifier;
}
declare const InsightsHandler: typeof _InsightsHandler;
type InsightsHandler = _InsightsHandler;
export default InsightsHandler;
//# sourceMappingURL=insights-handler.d.ts.map